/ This is the sidebar that appears on new/edit course and new/edit lesson
.collection.with-header.courses-sidebar{"data-behavior" => "sortable", "data-url" => "#{sort_community_course_lessons_path(@community, @course)}"}
  / Make the Course Info Item
  .collection-header
    %h5
      = icon('fas', 'book')
      = link_to @course.title, community_course_path(@community, @course), class: "primary-text"
  / For each lesson, make a collection item with that lesson and it's url
  - if @lesson.id == nil
    = link_to "", :class => "active collection-item not-sortable" do
      Untitled Lesson
  - @lessons.each do |lesson|
    / Make Edit Lesson Url with ID
    - path_show_lesson = community_course_lesson_path(@community, @course, lesson)
    / Add Link to Collection Item
    = link_to path_show_lesson, :class => (@lesson.id == lesson.id ? "active" : "")+" collection-item", :id => dom_id(lesson) do
      .flex{style: "align-items: center;"}
        .f0{style: "white-space: nowrap; margin-left: 5px;"}
          = lesson.position.to_s + "."
        .truncate.f1
          %span{style: "margin-left: 8px;"}= lesson.title
        .f0{style: "white-space: nowrap; margin-left: 5px; font-size: 12px;"}
          =icon('fas', 'clock')
          = lesson.display_duration
        .f0{style: "white-space: nowrap; margin-left: 5px; font-size: 12px;"}
          =icon('fas', 'lightbulb')
          = lesson.likes


/ Add Lesson Button
.row.no-margin
  - if @course.open or (@course.user == current_user)
    = link_to new_community_course_lesson_path(@community, @course), :class => " btn-flat right" + disabled_if_no_user do
      = material_icon.add.css_class("left")
      ADD LESSON

